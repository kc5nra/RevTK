/*
 * Raphael 0.7.4 - JavaScript Vector Library
 *
 * Copyright (c) 2008 - 2009 Dmitry Baranovskiy (http://raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
window.Raphael=(function(){var N=/[, ]+/,f=document,G=window,d=function(){return k.apply(d,arguments)},b={},p={cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},r={cx:"number",cy:"number",fill:"colour","fill-opacity":"number","font-size":"number",height:"number",opacity:"number",path:"path",r:"number",rotation:"csv",rx:"number",ry:"number",scale:"csv",stroke:"colour","stroke-opacity":"number","stroke-width":"number",translation:"csv",width:"number",x:"number",y:"number"},s=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup"];d.version="0.7.4";d.type=(window.SVGAngle?"SVG":"VML");d.svg=!(d.vml=d.type=="VML");d.idGenerator=0;d.fn={};d.toString=function(){return"Your browser "+(this.vml?"doesn't ":"")+"support"+(this.svg?"s":"")+" SVG.\nYou are running "+unescape("Rapha%EBl%20")+this.version};d.setWindow=function(e){G=e;f=G.document};d.hsb2rgb=function(V,T,Z){if(typeof V=="object"&&"h" in V&&"s" in V&&"b" in V){Z=V.b;T=V.s;V=V.h}var Q,R,aa;if(Z==0){return{r:0,g:0,b:0,hex:"#000"}}if(V>1||T>1||Z>1){V/=255;T/=255;Z/=255}var S=Math.floor(V*6),W=(V*6)-S,P=Z*(1-T),O=Z*(1-(T*W)),ab=Z*(1-(T*(1-W)));Q=[Z,O,P,P,ab,Z,Z][S];R=[ab,Z,Z,O,P,P,ab][S];aa=[P,P,ab,Z,Z,O,P][S];Q*=255;R*=255;aa*=255;var X={r:Q,g:R,b:aa};var e=Math.round(Q).toString(16);if(e.length==1){e="0"+e}var U=Math.round(R).toString(16);if(U.length==1){U="0"+U}var Y=Math.round(aa).toString(16);if(Y.length==1){Y="0"+Y}X.hex="#"+e+U+Y;return X};d.rgb2hsb=function(e,i,T){if(typeof e=="object"&&"r" in e&&"g" in e&&"b" in e){T=e.b;i=e.g;e=e.r}if(typeof e=="string"){var V=F(e);e=V.r;i=V.g;T=V.b}if(e>1||i>1||T>1){e/=255;i/=255;T/=255}var S=Math.max(e,i,T),O=Math.min(e,i,T),Q,P,R=S;if(O==S){return{h:0,s:0,b:S}}else{var U=(S-O);P=U/S;if(e==S){Q=(i-T)/U}else{if(i==S){Q=2+((T-e)/U)}else{Q=4+((e-i)/U)}}Q/=6;if(Q<0){Q+=1}if(Q>1){Q-=1}}return{h:Q,s:P,b:R}};var F=function(e){var U={aliceblue:"#f0f8ff",amethyst:"#96c",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};if(e.toString().toLowerCase() in U){e=U[e.toString().toLowerCase()]}if(!e){return{r:0,g:0,b:0,hex:"#000"}}if(e=="none"){return{r:-1,g:-1,b:-1,hex:"none"}}var O,P,T,R=e.match(/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgb\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|rgb\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\)|hsb\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hsb\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i);if(R){if(R[2]){T=parseInt(R[2].substring(5),16);P=parseInt(R[2].substring(3,5),16);O=parseInt(R[2].substring(1,3),16)}if(R[3]){T=parseInt(R[3].substring(3)+R[3].substring(3),16);P=parseInt(R[3].substring(2,3)+R[3].substring(2,3),16);O=parseInt(R[3].substring(1,2)+R[3].substring(1,2),16)}if(R[4]){R=R[4].split(/\s*,\s*/);O=parseFloat(R[0],10);P=parseFloat(R[1],10);T=parseFloat(R[2],10)}if(R[5]){R=R[5].split(/\s*,\s*/);O=parseFloat(R[0],10)*2.55;P=parseFloat(R[1],10)*2.55;T=parseFloat(R[2],10)*2.55}if(R[6]){R=R[6].split(/\s*,\s*/);O=parseFloat(R[0],10);P=parseFloat(R[1],10);T=parseFloat(R[2],10);return d.hsb2rgb(O,P,T)}if(R[7]){R=R[7].split(/\s*,\s*/);O=parseFloat(R[0],10)*2.55;P=parseFloat(R[1],10)*2.55;T=parseFloat(R[2],10)*2.55;return d.hsb2rgb(O,P,T)}var R={r:O,g:P,b:T};var i=Math.round(O).toString(16);(i.length==1)&&(i="0"+i);var Q=Math.round(P).toString(16);(Q.length==1)&&(Q="0"+Q);var S=Math.round(T).toString(16);(S.length==1)&&(S="0"+S);R.hex="#"+i+Q+S;return R}else{return{r:-1,g:-1,b:-1,hex:"none"}}};d.getColor=function(i){var O=arguments.callee.start=arguments.callee.start||{h:0,s:1,b:i||0.75};var e=this.hsb2rgb(O.h,O.s,O.b);O.h+=0.075;if(O.h>1){O.h=0;O.s-=0.2;if(O.s<=0){arguments.callee.start={h:0,s:1,b:O.b}}}return e.hex};d.getColor.reset=function(){delete this.start};d.parsePathString=function(e){var P={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[],O=function(){var R="";for(var Q=0,S=this.length;Q<S;Q++){R+=this[Q][0]+this[Q].join(",").substring(2)}return R};if(e.toString.toString()==O.toString()){return e}e.replace(/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,function(R,Q,U){var T=[],S=Q.toLowerCase();U.replace(/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,function(W,V){V&&T.push(+V)});while(T.length>=P[S]){i.push([Q].concat(T.splice(0,P[S])));if(!P[S]){break}}});i.toString=O;return i};var w=function(X){var e=X;if(typeof X=="string"){e=d.parsePathString(X)}e=t(e);var T=[],S=[],O=0;for(var Q=0,W=e.length;Q<W;Q++){switch(e[Q][0]){case"Z":break;case"A":T.push(e[Q][e[Q].length-2]);S.push(e[Q][e[Q].length-1]);break;default:for(var P=1,R=e[Q].length;P<R;P++){if(P%2){T.push(e[Q][P])}else{S.push(e[Q][P])}}}}var V=Math.min.apply(Math,T),U=Math.min.apply(Math,S);return{x:V,y:U,width:Math.max.apply(Math,T)-V,height:Math.max.apply(Math,S)-U,X:T,Y:S}};var c=function(O){var S=[];if(typeof O=="string"){O=d.parsePathString(O)}var U=0,T=0,e=0;if(O[0][0]=="M"){U=O[0][1];T=O[0][2];e++;S.push(O[0])}for(var Q=e,V=O.length;Q<V;Q++){S[Q]=[];if(O[Q][0]!=O[Q][0].toLowerCase()){S[Q][0]=O[Q][0].toLowerCase();switch(S[Q][0]){case"a":S[Q][1]=O[Q][1];S[Q][2]=O[Q][2];S[Q][3]=0;S[Q][4]=O[Q][4];S[Q][5]=O[Q][5];S[Q][6]=+(O[Q][6]-U).toFixed(3);S[Q][7]=+(O[Q][7]-T).toFixed(3);break;case"v":S[Q][1]=+(O[Q][1]-T).toFixed(3);break;default:for(var P=1,R=O[Q].length;P<R;P++){S[Q][P]=+(O[Q][P]-((P%2)?U:T)).toFixed(3)}}}else{S[Q]=O[Q]}switch(S[Q][0]){case"z":break;case"h":U+=S[Q][S[Q].length-1];break;case"v":T+=S[Q][S[Q].length-1];break;default:U+=S[Q][S[Q].length-2];T+=S[Q][S[Q].length-1]}}S.toString=O.toString;return S};var t=function(O){var S=[];if(typeof O=="string"){O=d.parsePathString(O)}var U=0,T=0,e=0;if(O[0][0]=="M"){U=+O[0][1];T=+O[0][2];e++;S[0]=O[0]}for(var Q=e,V=O.length;Q<V;Q++){S[Q]=[];if(O[Q][0]!=(O[Q][0]+"").toUpperCase()){S[Q][0]=(O[Q][0]+"").toUpperCase();switch(S[Q][0]){case"A":S[Q][1]=O[Q][1];S[Q][2]=O[Q][2];S[Q][3]=0;S[Q][4]=O[Q][4];S[Q][5]=O[Q][5];S[Q][6]=+(O[Q][6]+U).toFixed(3);S[Q][7]=+(O[Q][7]+T).toFixed(3);break;case"V":S[Q][1]=+O[Q][1]+T;break;default:for(var P=1,R=O[Q].length;P<R;P++){S[Q][P]=+O[Q][P]+((P%2)?U:T)}}}else{S[Q]=O[Q]}switch(S[Q][0]){case"Z":break;case"H":U=S[Q][1];break;case"V":T=S[Q][1];break;default:U=S[Q][S[Q].length-2];T=S[Q][S[Q].length-1]}}S.toString=O.toString;return S};var z=function(S,R){var Q=[t(d.parsePathString(S)),t(d.parsePathString(R))],O=[{x:0,y:0,bx:0,by:0,X:0,Y:0},{x:0,y:0,bx:0,by:0,X:0,Y:0}],e=function(U,V){if(!U){return["U"]}switch(U[0]){case"M":V.X=U[1];V.Y=U[2];break;case"S":var i=V.x+(V.x-(V.bx||V.x));var W=V.y+(V.y-(V.by||V.y));U=["C",i,W,U[1],U[2],U[3],U[4]];break;case"T":var i=V.x+(V.x-(V.bx||V.x));var W=V.y+(V.y-(V.by||V.y));U=["Q",i,W,U[1],U[2]];break;case"H":U=["L",U[1],V.y];break;case"V":U=["L",V.x,U[1]];break;case"Z":U=["L",V.X,V.Y];break}return U},T=function(W,V,Y){if(Q[W][Y][0]=="M"&&Q[V][Y][0]!="M"){Q[V].splice(Y,0,["M",O[V].x,O[V].y]);O[W].bx=Q[W][Y][Q[W][Y].length-4]||0;O[W].by=Q[W][Y][Q[W][Y].length-3]||0;O[W].x=Q[W][Y][Q[W][Y].length-2];O[W].y=Q[W][Y][Q[W][Y].length-1];return true}else{if(Q[W][Y][0]=="L"&&Q[V][Y][0]=="C"){Q[W][Y]=["C",O[W].x,O[W].y,Q[W][Y][1],Q[W][Y][2],Q[W][Y][1],Q[W][Y][2]]}else{if(Q[W][Y][0]=="L"&&Q[V][Y][0]=="Q"){Q[W][Y]=["Q",Q[W][Y][1],Q[W][Y][2],Q[W][Y][1],Q[W][Y][2]]}else{if(Q[W][Y][0]=="Q"&&Q[V][Y][0]=="C"){var U=Q[V][Y][Q[V][Y].length-2];var aa=Q[V][Y][Q[V][Y].length-1];Q[V].splice(Y+1,0,["Q",U,aa,U,aa]);Q[W].splice(Y,0,["C",O[W].x,O[W].y,O[W].x,O[W].y,O[W].x,O[W].y]);Y++;O[V].bx=Q[V][Y][Q[V][Y].length-4]||0;O[V].by=Q[V][Y][Q[V][Y].length-3]||0;O[V].x=Q[V][Y][Q[V][Y].length-2];O[V].y=Q[V][Y][Q[V][Y].length-1];return true}else{if(Q[W][Y][0]=="A"&&Q[V][Y][0]=="C"){var U=Q[V][Y][Q[V][Y].length-2];var aa=Q[V][Y][Q[V][Y].length-1];Q[V].splice(Y+1,0,["A",0,0,Q[W][Y][3],Q[W][Y][4],Q[W][Y][5],U,aa]);Q[W].splice(Y,0,["C",O[W].x,O[W].y,O[W].x,O[W].y,O[W].x,O[W].y]);Y++;O[V].bx=Q[V][Y][Q[V][Y].length-4]||0;O[V].by=Q[V][Y][Q[V][Y].length-3]||0;O[V].x=Q[V][Y][Q[V][Y].length-2];O[V].y=Q[V][Y][Q[V][Y].length-1];return true}else{if(Q[W][Y][0]=="U"){Q[W][Y][0]=Q[V][Y][0];for(var X=1,Z=Q[V][Y].length;X<Z;X++){Q[W][Y][X]=(X%2)?O[W].x:O[W].y}}}}}}}return false};for(var P=0;P<Math.max(Q[0].length,Q[1].length);P++){Q[0][P]=e(Q[0][P],O[0]);Q[1][P]=e(Q[1][P],O[1]);if(Q[0][P][0]!=Q[1][P][0]&&(T(0,1,P)||T(1,0,P))){continue}O[0].bx=Q[0][P][Q[0][P].length-4]||0;O[0].by=Q[0][P][Q[0][P].length-3]||0;O[0].x=Q[0][P][Q[0][P].length-2];O[0].y=Q[0][P][Q[0][P].length-1];O[1].bx=Q[1][P][Q[1][P].length-4]||0;O[1].by=Q[1][P][Q[1][P].length-3]||0;O[1].x=Q[1][P][Q[1][P].length-2];O[1].y=Q[1][P][Q[1][P].length-1]}return Q};var m=function(X){if(typeof X=="string"){X=X.split(/\s*\-\s*/);var P=X.shift();if(P.toLowerCase()=="v"){P=90}else{if(P.toLowerCase()=="h"){P=0}else{P=parseFloat(P,10)}}P=-P;var V={angle:P,type:"linear",dots:[],vector:[0,0,Math.cos(P*Math.PI/180).toFixed(3),Math.sin(P*Math.PI/180).toFixed(3)]};var W=1/(Math.max(Math.abs(V.vector[2]),Math.abs(V.vector[3]))||1);V.vector[2]*=W;V.vector[3]*=W;if(V.vector[2]<0){V.vector[0]=-V.vector[2];V.vector[2]=0}if(V.vector[3]<0){V.vector[1]=-V.vector[3];V.vector[3]=0}V.vector[0]=V.vector[0].toFixed(3);V.vector[1]=V.vector[1].toFixed(3);V.vector[2]=V.vector[2].toFixed(3);V.vector[3]=V.vector[3].toFixed(3);for(var S=0,Y=X.length;S<Y;S++){var e={};var U=X[S].match(/^([^:]*):?([\d\.]*)/);e.color=F(U[1]).hex;U[2]&&(e.offset=U[2]+"%");V.dots.push(e)}for(var S=1,Y=V.dots.length-1;S<Y;S++){if(!V.dots[S].offset){var O=parseFloat(V.dots[S-1].offset||0,10),Q=false;for(var R=S+1;R<Y;R++){if(V.dots[R].offset){Q=V.dots[R].offset;break}}if(!Q){Q=100;R=Y}Q=parseFloat(Q,10);var T=(Q-O)/(R-S+1);for(;S<R;S++){O+=T;V.dots[S].offset=O+"%"}}}return V}else{return X}};var B=function(){var O,i,Q,P,e;if(typeof arguments[0]=="string"||typeof arguments[0]=="object"){if(typeof arguments[0]=="string"){O=f.getElementById(arguments[0])}else{O=arguments[0]}if(O.tagName){if(arguments[1]==null){return{container:O,width:O.style.pixelWidth||O.offsetWidth,height:O.style.pixelHeight||O.offsetHeight}}else{return{container:O,width:arguments[1],height:arguments[2]}}}}else{if(typeof arguments[0]=="number"&&arguments.length>3){return{container:1,x:arguments[0],y:arguments[1],width:arguments[2],height:arguments[3]}}}};var a=function(e,i,O){for(var P in O){if(!(P in e)){switch(typeof O[P]){case"function":e[P]=e===i?O[P]:function(){O[P].apply(i,arguments)};break;case"object":e[P]={};a(e[P],e,O[P]);break;default:e[P]=O[P];break}}}};if(d.svg){var M=function(P,e,Q){var i=f.createElementNS(Q.svgns,"path");i.setAttribute("fill","none");if(Q.canvas){Q.canvas.appendChild(i)}var O=new l(i,Q);O.isAbsolute=true;O.type="path";O.last={x:0,y:0,bx:0,by:0};O.absolutely=function(){this.isAbsolute=true;return this};O.relatively=function(){this.isAbsolute=false;return this};O.moveTo=function(R,U){var T=this.isAbsolute?"M":"m";T+=parseFloat(R,10).toFixed(3)+" "+parseFloat(U,10).toFixed(3)+" ";var S=this[0].getAttribute("d")||"";(S=="M0,0")&&(S="");this[0].setAttribute("d",S+T);this.last.x=(this.isAbsolute?0:this.last.x)+parseFloat(R,10);this.last.y=(this.isAbsolute?0:this.last.y)+parseFloat(U,10);this.attrs.path=S+T;return this};O.lineTo=function(R,U){this.last.x=(this.isAbsolute?0:this.last.x)+parseFloat(R,10);this.last.y=(this.isAbsolute?0:this.last.y)+parseFloat(U,10);var T=this.isAbsolute?"L":"l";T+=parseFloat(R,10).toFixed(3)+" "+parseFloat(U,10).toFixed(3)+" ";var S=this[0].getAttribute("d")||"";this[0].setAttribute("d",S+T);this.attrs.path=S+T;return this};O.arcTo=function(W,V,S,U,R,Y){var X=this.isAbsolute?"A":"a";X+=[parseFloat(W,10).toFixed(3),parseFloat(V,10).toFixed(3),0,S,U,parseFloat(R,10).toFixed(3),parseFloat(Y,10).toFixed(3)].join(" ");var T=this[0].getAttribute("d")||"";this[0].setAttribute("d",T+X);this.last.x=parseFloat(R,10);this.last.y=parseFloat(Y,10);this.attrs.path=T+X;return this};O.cplineTo=function(S,Z,U){if(!U){return this.lineTo(S,Z)}else{var R={};var aa=parseFloat(S,10);var X=parseFloat(Z,10);var ab=parseFloat(U,10);var W=this.isAbsolute?"C":"c";var V=[+this.last.x+ab,+this.last.y,aa-ab,X,aa,X];for(var T=0,ac=V.length;T<ac;T++){W+=V[T].toFixed(3)+" "}this.last.x=(this.isAbsolute?0:this.last.x)+V[4];this.last.y=(this.isAbsolute?0:this.last.y)+V[5];this.last.bx=V[2];this.last.by=V[3];var Y=this[0].getAttribute("d")||"";this[0].setAttribute("d",Y+W);this.attrs.path=Y+W;return this}};O.curveTo=function(){var U={},W=[0,1,2,3,"s",5,"c"];var V=W[arguments.length];if(this.isAbsolute){V=V.toUpperCase()}for(var S=0,T=arguments.length;S<T;S++){V+=parseFloat(arguments[S],10).toFixed(3)+" "}this.last.x=(this.isAbsolute?0:this.last.x)+parseFloat(arguments[arguments.length-2],10);this.last.y=(this.isAbsolute?0:this.last.y)+parseFloat(arguments[arguments.length-1],10);this.last.bx=parseFloat(arguments[arguments.length-4],10);this.last.by=parseFloat(arguments[arguments.length-3],10);var R=this.node.getAttribute("d")||"";this.node.setAttribute("d",R+V);this.attrs.path=R+V;return this};O.qcurveTo=function(){var U={},W=[0,1,"t",3,"q"];var V=W[arguments.length];if(this.isAbsolute){V=V.toUpperCase()}for(var S=0,T=arguments.length;S<T;S++){V+=parseFloat(arguments[S],10).toFixed(3)+" "}this.last.x=(this.isAbsolute?0:this.last.x)+parseFloat(arguments[arguments.length-2],10);this.last.y=(this.isAbsolute?0:this.last.y)+parseFloat(arguments[arguments.length-1],10);if(arguments.length!=2){this.last.qx=parseFloat(arguments[arguments.length-4],10);this.last.qy=parseFloat(arguments[arguments.length-3],10)}var R=this.node.getAttribute("d")||"";this.node.setAttribute("d",R+V);this.attrs.path=R+V;return this};O.addRoundedCorner=function(V,T){var U=0.5522*V,S=this.isAbsolute,X=this;if(S){this.relatively();S=function(){X.absolutely()}}else{S=function(){}}var W={l:function(){return{u:function(){X.curveTo(-U,0,-V,-(V-U),-V,-V)},d:function(){X.curveTo(-U,0,-V,V-U,-V,V)}}},r:function(){return{u:function(){X.curveTo(U,0,V,-(V-U),V,-V)},d:function(){X.curveTo(U,0,V,V-U,V,V)}}},u:function(){return{r:function(){X.curveTo(0,-U,-(U-V),-V,V,-V)},l:function(){X.curveTo(0,-U,U-V,-V,-V,-V)}}},d:function(){return{r:function(){X.curveTo(0,U,-(U-V),V,V,V)},l:function(){X.curveTo(0,U,U-V,V,-V,V)}}}};W[T[0]]()[T[1]]();S();return X};O.andClose=function(){var R=this[0].getAttribute("d")||"";this[0].setAttribute("d",R+"Z ");this.attrs.path=R+"Z ";return this};if(e){O.attrs.path=""+e;O.absolutely();b.pathfinder(O,O.attrs.path)}if(P){A(O,P)}return O};var v=function(T,R,U){R=m(R);var Q=f.createElementNS(U.svgns,(R.type||"linear")+"Gradient");Q.id="raphael-gradient-"+d.idGenerator++;if(R.vector&&R.vector.length){Q.setAttribute("x1",R.vector[0]);Q.setAttribute("y1",R.vector[1]);Q.setAttribute("x2",R.vector[2]);Q.setAttribute("y2",R.vector[3])}U.defs.appendChild(Q);var S=true;for(var O=0,P=R.dots.length;O<P;O++){var e=f.createElementNS(U.svgns,"stop");if(R.dots[O].offset){S=false}e.setAttribute("offset",R.dots[O].offset?R.dots[O].offset:(O==0)?"0%":"100%");e.setAttribute("stop-color",F(R.dots[O].color).hex||"#fff");Q.appendChild(e)}if(S&&typeof R.dots[P-1].opacity!="undefined"){e.setAttribute("stop-opacity",R.dots[P-1].opacity)}T.setAttribute("fill","url(#"+Q.id+")");T.style.opacity=1;T.style.fillOpacity=1;T.setAttribute("opacity",1);T.setAttribute("fill-opacity",1)};var q=function(i){if(i.pattern){var e=i.getBBox();i.pattern.setAttribute("patternTransform","translate("+[e.x,e.y].join(",")+")")}};var A=function(P,R){var W={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},e=function(ai,ah){ah=W[ah.toString().toLowerCase()];if(ah){var af=ai.attrs["stroke-width"]||"1",ac={round:af,square:af,butt:0}[ai.attrs["stroke-linecap"]||R["stroke-linecap"]]||0,ag=[];for(var ad=0,ae=ah.length;ad<ae;ad++){ag.push(ah[ad]*af+((ad%2)?1:-1)*ac)}ah=ag.join(",");ai.node.setAttribute("stroke-dasharray",ah)}};for(var U in R){if(!(U in p)){continue}var Y=R[U];P.attrs[U]=Y;switch(U){case"href":case"title":case"target":var Q=P.node.parentNode;if(Q.tagName.toLowerCase()!="a"){var i=f.createElementNS(P.svg.svgns,"a");Q.insertBefore(i,P.node);i.appendChild(P.node);Q=i}Q.setAttributeNS(P.svg.xlink,U,Y);break;case"path":if(P.type=="path"){P.node.setAttribute("d","M0,0");b.pathfinder(P,Y)}case"rx":case"cx":case"x":P.node.setAttribute(U,Y);q(P);break;case"ry":case"cy":case"y":P.node.setAttribute(U,Y);q(P);break;case"width":P.node.setAttribute(U,Y);break;case"height":P.node.setAttribute(U,Y);break;case"src":if(P.type=="image"){P.node.setAttributeNS(P.svg.xlink,"href",Y)}break;case"stroke-width":P.node.style.strokeWidth=Y;P.node.setAttribute(U,Y);if(P.attrs["stroke-dasharray"]){e(P,P.attrs["stroke-dasharray"])}break;case"stroke-dasharray":e(P,Y);break;case"rotation":P.rotate(Y,true);break;case"translation":var ab=(Y+"").split(N);P.translate((+ab[0]+1||2)-1,(+ab[1]+1||2)-1);break;case"scale":var ab=(Y+"").split(N);P.scale(+ab[0]||1,+ab[1]||+ab[0]||1);break;case"fill":var T=Y.match(/^url\(([^\)]+)\)$/i);if(T){var O=f.createElementNS(P.svg.svgns,"pattern");var aa=f.createElementNS(P.svg.svgns,"image");O.id="raphael-pattern-"+d.idGenerator++;O.setAttribute("x",0);O.setAttribute("y",0);O.setAttribute("patternUnits","userSpaceOnUse");aa.setAttribute("x",0);aa.setAttribute("y",0);aa.setAttributeNS(P.svg.xlink,"href",T[1]);O.appendChild(aa);var S=f.createElement("img");S.style.position="absolute";S.style.top="-9999em";S.style.left="-9999em";S.onload=function(){O.setAttribute("width",this.offsetWidth);O.setAttribute("height",this.offsetHeight);aa.setAttribute("width",this.offsetWidth);aa.setAttribute("height",this.offsetHeight);f.body.removeChild(this);b.safari()};f.body.appendChild(S);S.src=T[1];P.svg.defs.appendChild(O);P.node.style.fill="url(#"+O.id+")";P.node.setAttribute("fill","url(#"+O.id+")");P.pattern=O;q(P);break}delete R.gradient;delete P.attrs.gradient;if(typeof P.attrs.opacity!="undefined"&&typeof R.opacity=="undefined"){P.node.style.opacity=P.attrs.opacity;P.node.setAttribute("opacity",P.attrs.opacity)}if(typeof P.attrs["fill-opacity"]!="undefined"&&typeof R["fill-opacity"]=="undefined"){P.node.style.fillOpacity=P.attrs["fill-opacity"];P.node.setAttribute("fill-opacity",P.attrs["fill-opacity"])}case"stroke":P.node.style[U]=F(Y).hex;P.node.setAttribute(U,F(Y).hex);break;case"gradient":v(P.node,Y,P.svg);break;case"opacity":case"fill-opacity":if(P.attrs.gradient){var X=f.getElementById(P.node.getAttribute("fill").replace(/^url\(#|\)$/g,""));if(X){var Z=X.getElementsByTagName("stop");Z[Z.length-1].setAttribute("stop-opacity",Y)}break}default:var V=U.replace(/(\-.)/g,function(ac){return ac.substring(1).toUpperCase()});P.node.style[V]=Y;P.node.setAttribute(U,Y);break}}J(P,R)};var E=1.2;var J=function(P,O){if(P.type!="text"||!("text" in O||"font" in O||"font-size" in O||"x" in O)){return}var V=P.node.firstChild?parseInt(f.defaultView.getComputedStyle(P.node.firstChild,"").getPropertyValue("font-size"),10):10;var U=0;if("text" in O){while(P.node.firstChild){P.node.removeChild(P.node.firstChild)}var e=(O.text+"").split("\n");for(var Q=0,T=e.length;Q<T;Q++){var R=f.createElementNS(P.svg.svgns,"tspan");Q&&R.setAttribute("dy",V*E);Q&&R.setAttribute("x",P.attrs.x);R.appendChild(f.createTextNode(e[Q]));P.node.appendChild(R);U+=V*E}}else{var e=P.node.getElementsByTagName("tspan");for(var Q=0,T=e.length;Q<T;Q++){Q&&e[Q].setAttribute("dy",V*E);Q&&e[Q].setAttribute("x",P.attrs.x);U+=V*E}}U-=V*(E-1);var S=U/2-V;if(S){P.node.setAttribute("y",P.attrs.y-S)}};var l=function(i,e){var P=0,O=0;this[0]=i;this.node=i;this.svg=e;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,x:0,y:0},sx:1,sy:1}};l.prototype.rotate=function(i,e,P){if(i==null){return this._.rt.deg}var O=this.getBBox();i=i.toString().split(N);if(i.length-1){e=parseFloat(i[1],10);P=parseFloat(i[2],10)}i=parseFloat(i[0],10);if(e!=null){this._.rt.deg=i}else{this._.rt.deg+=i}if(P==null){e=null}e=e==null?O.x+O.width/2:e;P=P==null?O.y+O.height/2:P;if(this._.rt.deg){this.transformations[0]=("rotate("+this._.rt.deg+" "+e+" "+P+")")}else{this.transformations[0]=""}this.node.setAttribute("transform",this.transformations.join(" "));return this};l.prototype.hide=function(){this.node.style.display="none";return this};l.prototype.show=function(){this.node.style.display="block";return this};l.prototype.remove=function(){this.node.parentNode.removeChild(this.node)};l.prototype.getBBox=function(){var O=this.node.getBBox();if(this.type=="text"){var i=this.node.getExtentOfChar(0);if(i.height>O.height){var e=this.node.getExtentOfChar(this.node.getNumberOfChars()-1);return{x:i.x,y:i.y,width:e.x-i.x+e.width,height:i.height}}}return O};l.prototype.attr=function(){if(arguments.length==1&&typeof arguments[0]=="string"){if(arguments[0]=="translation"){return this.translate()}return this.attrs[arguments[0]]}if(arguments.length==1&&arguments[0] instanceof Array){var e={};for(var i in arguments[0]){e[arguments[0][i]]=this.attrs[arguments[0][i]]}return e}if(arguments.length==2){var O={};O[arguments[0]]=arguments[1];A(this,O)}else{if(arguments.length==1&&typeof arguments[0]=="object"){A(this,arguments[0])}}return this};l.prototype.toFront=function(){this.node.parentNode.appendChild(this.node);return this};l.prototype.toBack=function(){if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild)}return this};l.prototype.insertAfter=function(e){if(e.node.nextSibling){e.node.parentNode.insertBefore(this.node,e.node.nextSibling)}else{e.node.parentNode.appendChild(this.node)}return this};l.prototype.insertBefore=function(e){e.node.parentNode.insertBefore(this.node,e.node);return this};var x=function(i,e,R,Q){var P=f.createElementNS(i.svgns,"circle");P.setAttribute("cx",e);P.setAttribute("cy",R);P.setAttribute("r",Q);P.setAttribute("fill","none");P.setAttribute("stroke","#000");if(i.canvas){i.canvas.appendChild(P)}var O=new l(P,i);O.attrs=O.attrs||{};O.attrs.cx=e;O.attrs.cy=R;O.attrs.r=Q;O.attrs.stroke="#000";O.type="circle";return O};var D=function(O,e,T,i,R,S){var Q=f.createElementNS(O.svgns,"rect");Q.setAttribute("x",e);Q.setAttribute("y",T);Q.setAttribute("width",i);Q.setAttribute("height",R);if(S){Q.setAttribute("rx",S);Q.setAttribute("ry",S)}Q.setAttribute("fill","none");Q.setAttribute("stroke","#000");if(O.canvas){O.canvas.appendChild(Q)}var P=new l(Q,O);P.attrs=P.attrs||{};P.attrs.x=e;P.attrs.y=T;P.attrs.width=i;P.attrs.height=R;P.attrs.stroke="#000";if(S){P.attrs.rx=P.attrs.ry=S}P.type="rect";return P};var g=function(i,e,S,R,Q){var P=f.createElementNS(i.svgns,"ellipse");P.setAttribute("cx",e);P.setAttribute("cy",S);P.setAttribute("rx",R);P.setAttribute("ry",Q);P.setAttribute("fill","none");P.setAttribute("stroke","#000");if(i.canvas){i.canvas.appendChild(P)}var O=new l(P,i);O.attrs=O.attrs||{};O.attrs.cx=e;O.attrs.cy=S;O.attrs.rx=R;O.attrs.ry=Q;O.attrs.stroke="#000";O.type="ellipse";return O};var o=function(O,S,e,T,i,R){var Q=f.createElementNS(O.svgns,"image");Q.setAttribute("x",e);Q.setAttribute("y",T);Q.setAttribute("width",i);Q.setAttribute("height",R);Q.setAttribute("preserveAspectRatio","none");Q.setAttributeNS(O.xlink,"href",S);if(O.canvas){O.canvas.appendChild(Q)}var P=new l(Q,O);P.attrs=P.attrs||{};P.attrs.x=e;P.attrs.y=T;P.attrs.width=i;P.attrs.height=R;P.type="image";return P};var C=function(i,e,R,Q){var P=f.createElementNS(i.svgns,"text");P.setAttribute("x",e);P.setAttribute("y",R);P.setAttribute("text-anchor","middle");if(i.canvas){i.canvas.appendChild(P)}var O=new l(P,i);O.attrs=O.attrs||{};O.attrs.x=e;O.attrs.y=R;O.type="text";A(O,{font:p.font,stroke:"none",fill:"#000",text:Q});return O};var u=function(e){var P=f.createElementNS(e.svgns,"g");if(e.canvas){e.canvas.appendChild(P)}var O=new l(P,e);for(var Q in e){if(Q[0]!="_"&&typeof e[Q]=="function"){O[Q]=(function(i){return function(){var R=e[i].apply(e,arguments);P.appendChild(R[0]);return R}})(Q)}}O.type="group";return O};var y=function(i,e){this.width=i||this.width;this.height=e||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);return this};var k=function(){var P=B.apply(null,arguments);var O=P.container,i=P.x,S=P.y,Q=P.width,e=P.height;if(!O){throw new Error("SVG container not found.")}b.canvas=f.createElementNS(b.svgns,"svg");b.canvas.setAttribute("width",Q||320);b.width=Q||320;b.canvas.setAttribute("height",e||200);b.height=e||200;if(O==1){f.body.appendChild(b.canvas);b.canvas.style.position="absolute";b.canvas.style.left=i+"px";b.canvas.style.top=S+"px"}else{if(O.firstChild){O.insertBefore(b.canvas,O.firstChild)}else{O.appendChild(b.canvas)}}O={canvas:b.canvas,clear:function(){while(this.canvas.firstChild){this.canvas.removeChild(this.canvas.firstChild)}this.defs=f.createElementNS(b.svgns,"defs");this.canvas.appendChild(this.defs)}};for(var R in b){if(R!="create"){O[R]=b[R]}}a(O,O,d.fn);O.clear();return O};b.remove=function(){this.canvas.parentNode.removeChild(this.canvas)};b.svgns="http://www.w3.org/2000/svg";b.xlink="http://www.w3.org/1999/xlink";b.safari=function(){if(navigator.vendor=="Apple Computer, Inc."){var e=this.rect(-this.width,-this.height,this.width*3,this.height*3).attr({stroke:"none"});setTimeout(function(){e.remove()},0)}}}if(d.vml){M=function(T,e,R){var P=L("group"),S=P.style;S.position="absolute";S.left=0;S.top=0;S.width=R.width+"px";S.height=R.height+"px";var O=L("shape"),i=O.style;i.width=R.width+"px";i.height=R.height+"px";O.path="";if(T["class"]){O.className="rvml "+T["class"]}O.coordsize=this.coordsize;O.coordorigin=this.coordorigin;P.appendChild(O);R.canvas.appendChild(P);var Q=new l(O,P,R);Q.isAbsolute=true;Q.type="path";Q.path=[];Q.last={x:0,y:0,bx:0,by:0,isAbsolute:true};Q.Path="";Q.absolutely=function(){this.isAbsolute=true;return this};Q.relatively=function(){this.isAbsolute=false;return this};Q.moveTo=function(U,W){var V=this.isAbsolute?"m":"t";V+=Math.round(parseFloat(U,10))+" "+Math.round(parseFloat(W,10));this.node.path=this.Path+=V;this.last.x=(this.isAbsolute?0:this.last.x)+parseFloat(U,10);this.last.y=(this.isAbsolute?0:this.last.y)+parseFloat(W,10);this.last.isAbsolute=this.isAbsolute;this.attrs.path+=(this.isAbsolute?"M":"m")+[U,W];return this};Q.lineTo=function(U,W){var V=this.isAbsolute?"l":"r";V+=Math.round(parseFloat(U,10))+" "+Math.round(parseFloat(W,10));this[0].path=this.Path+=V;this.last.x=(this.isAbsolute?0:this.last.x)+parseFloat(U,10);this.last.y=(this.isAbsolute?0:this.last.y)+parseFloat(W,10);this.last.isAbsolute=this.isAbsolute;this.attrs.path+=(this.isAbsolute?"L":"l")+[U,W];return this};Q.arcTo=function(W,U,ad,X,V,ah){V=(this.isAbsolute?0:this.last.x)+V;ah=(this.isAbsolute?0:this.last.y)+ah;var Y=this.last.x,aj=this.last.y,ai=(Y-V)/2,ag=(aj-ah)/2,ac=(ad==X?-1:1)*Math.sqrt(Math.abs(W*W*U*U-W*W*ag*ag-U*U*ai*ai)/(W*W*ag*ag+U*U*ai*ai)),ab=ac*W*ag/U+(Y+V)/2,aa=ac*-U*ai/W+(aj+ah)/2,ae=X?(this.isAbsolute?"wa":"wr"):(this.isAbsolute?"at":"ar"),Z=Math.round(ab-W),af=Math.round(aa-U);ae+=[Z,af,Math.round(Z+W*2),Math.round(af+U*2),Math.round(Y),Math.round(aj),Math.round(parseFloat(V,10)),Math.round(parseFloat(ah,10))].join(", ");this.node.path=this.Path+=ae;this.last.x=(this.isAbsolute?0:this.last.x)+parseFloat(V,10);this.last.y=(this.isAbsolute?0:this.last.y)+parseFloat(ah,10);this.last.isAbsolute=this.isAbsolute;this.attrs.path+=(this.isAbsolute?"A":"a")+[W,U,0,ad,X,V,ah];return this};Q.cplineTo=function(U,aa,W){if(!W){return this.lineTo(U,aa)}else{var ab=Math.round(Math.round(parseFloat(U,10)*100)/100),Z=Math.round(Math.round(parseFloat(aa,10)*100)/100),ac=Math.round(Math.round(parseFloat(W,10)*100)/100),Y=this.isAbsolute?"c":"v",X=[Math.round(this.last.x)+ac,Math.round(this.last.y),ab-ac,Z,ab,Z],V=[this.last.x+W,this.last.y,U-W,aa,U,aa];Y+=X.join(" ")+" ";this.last.x=(this.isAbsolute?0:this.last.x)+X[4];this.last.y=(this.isAbsolute?0:this.last.y)+X[5];this.last.bx=X[2];this.last.by=X[3];this.node.path=this.Path+=Y;this.attrs.path+=(this.isAbsolute?"C":"c")+V;return this}};Q.curveTo=function(){var W=this.isAbsolute?"c":"v";if(arguments.length==6){this.last.bx=(this.isAbsolute?0:this.last.x)+parseFloat(arguments[2],10);this.last.by=(this.isAbsolute?0:this.last.y)+parseFloat(arguments[3],10);this.last.x=(this.isAbsolute?0:this.last.x)+parseFloat(arguments[4],10);this.last.y=(this.isAbsolute?0:this.last.y)+parseFloat(arguments[5],10);W+=[Math.round(parseFloat(arguments[0],10)),Math.round(parseFloat(arguments[1],10)),Math.round(parseFloat(arguments[2],10)),Math.round(parseFloat(arguments[3],10)),Math.round(parseFloat(arguments[4],10)),Math.round(parseFloat(arguments[5],10))].join(" ")+" ";this.last.isAbsolute=this.isAbsolute;this.attrs.path+=(this.isAbsolute?"C":"c")+Array.prototype.splice.call(arguments,0,arguments.length)}if(arguments.length==4){var V=this.last.x*2-this.last.bx;var U=this.last.y*2-this.last.by;this.last.bx=(this.isAbsolute?0:this.last.x)+parseFloat(arguments[0],10);this.last.by=(this.isAbsolute?0:this.last.y)+parseFloat(arguments[1],10);this.last.x=(this.isAbsolute?0:this.last.x)+parseFloat(arguments[2],10);this.last.y=(this.isAbsolute?0:this.last.y)+parseFloat(arguments[3],10);W+=[Math.round(V),Math.round(U),Math.round(parseFloat(arguments[0],10)),Math.round(parseFloat(arguments[1],10)),Math.round(parseFloat(arguments[2],10)),Math.round(parseFloat(arguments[3],10))].join(" ")+" ";this.attrs.path+=(this.isAbsolute?"S":"s")+Array.prototype.splice.call(arguments,0,arguments.length)}this.node.path=this.Path+=W;return this};Q.qcurveTo=function(){var U="qb";if(arguments.length==4){this.last.qx=(this.isAbsolute?0:this.last.x)+parseFloat(arguments[0],10);this.last.qy=(this.isAbsolute?0:this.last.y)+parseFloat(arguments[1],10);this.last.x=(this.isAbsolute?0:this.last.x)+parseFloat(arguments[2],10);this.last.y=(this.isAbsolute?0:this.last.y)+parseFloat(arguments[3],10);U+=[Math.round(this.last.qx),Math.round(this.last.qy),Math.round(this.last.x),Math.round(this.last.y)].join(" ")+" ";this.last.isAbsolute=this.isAbsolute;this.attrs.path+=(this.isAbsolute?"Q":"q")+Array.prototype.splice.call(arguments,0,arguments.length)}if(arguments.length==2){this.last.qx=this.last.x*2-this.last.qx;this.last.qy=this.last.y*2-this.last.qy;this.last.x=(this.isAbsolute?0:this.last.x)+parseFloat(arguments[2],10);this.last.y=(this.isAbsolute?0:this.last.y)+parseFloat(arguments[3],10);U+=[Math.round(this.last.qx),Math.round(this.last.qy),Math.round(this.last.x),Math.round(this.last.y)].join(" ")+" ";this.attrs.path+=(this.isAbsolute?"T":"t")+Array.prototype.splice.call(arguments,0,arguments.length)}this.node.path=this.Path+=U;this.path.push({type:"qcurve",arg:[].slice.call(arguments,0),pos:this.isAbsolute});return this};Q.addRoundedCorner=function(X,V){var W=0.5522*X,U=this.isAbsolute,Z=this;if(U){this.relatively();U=function(){Z.absolutely()}}else{U=function(){}}var Y={l:function(){return{u:function(){Z.curveTo(-W,0,-X,-(X-W),-X,-X)},d:function(){Z.curveTo(-W,0,-X,X-W,-X,X)}}},r:function(){return{u:function(){Z.curveTo(W,0,X,-(X-W),X,-X)},d:function(){Z.curveTo(W,0,X,X-W,X,X)}}},u:function(){return{r:function(){Z.curveTo(0,-W,-(W-X),-X,X,-X)},l:function(){Z.curveTo(0,-W,W-X,-X,-X,-X)}}},d:function(){return{r:function(){Z.curveTo(0,W,-(W-X),X,X,X)},l:function(){Z.curveTo(0,W,W-X,X,-X,X)}}}};Y[V.charAt(0)]()[V.charAt(1)]();U();return Z};Q.andClose=function(){this.node.path=(this.Path+="x e");this.attrs.path+="z";return this};if(e){Q.absolutely();Q.attrs.path="";b.pathfinder(Q,""+e)}A(Q,T);if(T.gradient){v(Q,T.gradient)}return Q};var A=function(e,i){var W=e.node.style,Q=e;e.attrs=e.attrs||{};for(var P in i){e.attrs[P]=i[P]}i.href&&(e.node.href=i.href);i.title&&(e.node.title=i.title);i.target&&(e.node.target=i.target);if(i.path&&e.type=="path"){e.Path="";e.path=[];b.pathfinder(e,i.path)}if(i.rotation!=null){e.rotate(i.rotation,true)}if(i.translation){var V=(i.translation+"").split(N);e.translate(V[0],V[1])}if(i.scale){var V=(i.scale+"").split(N);e.scale(V[0],V[1])}if(e.type=="image"&&i.src){e.node.src=i.src}if(e.type=="image"&&i.opacity){e.node.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+(i.opacity*100)+")";e.node.style.filter=(e.node.filterMatrix||"")+(e.node.filterOpacity||"")}i.font&&(W.font=i.font);i["font-family"]&&(W.fontFamily=i["font-family"]);i["font-size"]&&(W.fontSize=i["font-size"]);i["font-weight"]&&(W.fontWeight=i["font-weight"]);i["font-style"]&&(W.fontStyle=i["font-style"]);if(typeof i.opacity!="undefined"||typeof i["stroke-width"]!="undefined"||typeof i.fill!="undefined"||typeof i.stroke!="undefined"||i["stroke-width"]||i["stroke-opacity"]||i["fill-opacity"]||i["stroke-dasharray"]||i["stroke-miterlimit"]||i["stroke-linejoin"]||i["stroke-linecap"]){e=e.shape||e.node;var U=(e.getElementsByTagName("fill")&&e.getElementsByTagName("fill")[0])||L("fill");if("fill-opacity" in i||"opacity" in i){U.opacity=((+i["fill-opacity"]+1||2)-1)*((+i.opacity+1||2)-1)}if(i.fill){U.on=true}if(typeof U.on=="undefined"||i.fill=="none"){U.on=false}if(U.on&&i.fill){var O=i.fill.match(/^url\(([^\)]+)\)$/i);if(O){U.src=O[1];U.type="tile"}else{U.color=F(i.fill).hex;U.src="";U.type="solid"}}e.appendChild(U);var T=(e.getElementsByTagName("stroke")&&e.getElementsByTagName("stroke")[0])||L("stroke");if((i.stroke&&i.stroke!="none")||i["stroke-width"]||typeof i["stroke-opacity"]!="undefined"||i["stroke-dasharray"]||i["stroke-miterlimit"]||i["stroke-linejoin"]||i["stroke-linecap"]){T.on=true}if(i.stroke=="none"||typeof T.on=="undefined"||i.stroke==0){T.on=false}if(T.on&&i.stroke){T.color=F(i.stroke).hex}T.opacity=((+i["stroke-opacity"]+1||2)-1)*((+i.opacity+1||2)-1);i["stroke-linejoin"]&&(T.joinstyle=i["stroke-linejoin"]||"miter");T.miterlimit=i["stroke-miterlimit"]||8;i["stroke-linecap"]&&(T.endcap={butt:"flat",square:"square",round:"round"}[i["stroke-linecap"]]||"miter");i["stroke-width"]&&(T.weight=(parseFloat(i["stroke-width"],10)||1)*12/16);if(i["stroke-dasharray"]){var R={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};T.dashstyle=R[i["stroke-dasharray"]]||""}e.appendChild(T)}if(Q.type=="text"){var S=f.createElement("span"),W=S.style;W.padding=0;W.margin=0;W.lineHeight=1;W.display="inline";Q.attrs.font&&(W.font=Q.attrs.font);Q.attrs["font-family"]&&(W.fontFamily=Q.attrs["font-family"]);Q.attrs["font-size"]&&(W.fontSize=Q.attrs["font-size"]);Q.attrs["font-weight"]&&(W.fontWeight=Q.attrs["font-weight"]);Q.attrs["font-style"]&&(W.fontStyle=Q.attrs["font-style"]);Q.node.parentNode.appendChild(S);S.innerText=Q.node.string;Q.W=Q.attrs.w=S.offsetWidth;Q.H=Q.attrs.h=S.offsetHeight;Q.X=Q.attrs.x;Q.Y=Q.attrs.y+Math.round(Q.H/2);Q.node.parentNode.removeChild(S);switch(Q.attrs["text-anchor"]){case"start":Q.node.style["v-text-align"]="left";Q.bbx=Math.round(Q.W/2);break;case"end":Q.node.style["v-text-align"]="right";Q.bbx=-Math.round(Q.W/2);break;default:Q.node.style["v-text-align"]="center";break}}};var n=function(i,e,Q,P){var O=Math.round(Math.atan((parseFloat(Q,10)-parseFloat(i,10))/(parseFloat(P,10)-parseFloat(e,10)))*57.29)||0;if(!O&&parseFloat(i,10)<parseFloat(e,10)){O=180}O-=180;if(O<0){O+=360}return O};var v=function(U,T){T=m(T);U.attrs=U.attrs||{};var P=U.attrs;U.attrs.gradient=T;U=U.shape||U[0];var S=U.getElementsByTagName("fill");if(S.length){S=S[0]}else{S=L("fill")}if(T.dots.length){S.on=true;S.method="none";S.type=((T.type+"").toLowerCase()=="radial")?"gradientTitle":"gradient";if(typeof T.dots[0].color!="undefined"){S.color=F(T.dots[0].color).hex}if(typeof T.dots[T.dots.length-1].color!="undefined"){S.color2=F(T.dots[T.dots.length-1].color).hex}var e=[];for(var Q=0,R=T.dots.length;Q<R;Q++){if(T.dots[Q].offset){e.push(T.dots[Q].offset+" "+F(T.dots[Q].color).hex)}}var O=typeof T.dots[T.dots.length-1].opacity=="undefined"?(typeof P.opacity=="undefined"?1:P.opacity):T.dots[T.dots.length-1].opacity;if(e.length){S.colors.value=e.join(",");O=typeof P.opacity=="undefined"?1:P.opacity}else{S.colors.value="0% "+S.color}S.opacity=O;if(typeof T.angle!="undefined"){S.angle=(-T.angle+270)%360}else{if(T.vector){S.angle=n.apply(null,T.vector)}}if((T.type+"").toLowerCase()=="radial"){S.focus="100%";S.focusposition="0.5 0.5"}}};var l=function(Q,S,e){var R=0,O=0,i=0,P=1;this[0]=Q;this.node=Q;this.X=0;this.Y=0;this.attrs={};this.Group=S;this.vml=e;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1}};l.prototype.rotate=function(i,e,O){if(i==null){return this._.rt.deg}i=i.toString().split(N);if(i.length-1){e=parseFloat(i[1],10);O=parseFloat(i[2],10)}i=parseFloat(i[0],10);if(e!=null){this._.rt.deg=i}else{this._.rt.deg+=i}if(O==null){e=null}this._.rt.cx=e;this._.rt.cy=O;this.setBox(null,e,O);this.Group.style.rotation=this._.rt.deg;return this};l.prototype.setBox=function(Q,R,P){var e=this.Group.style,S=(this.shape&&this.shape.style)||this.node.style;for(var T in Q){this.attrs[T]=Q[T]}R=R||this._.rt.cx;P=P||this._.rt.cy;var W=this.attrs,Z,Y,aa,V;switch(this.type){case"circle":Z=W.cx-W.r;Y=W.cy-W.r;aa=V=W.r*2;break;case"ellipse":Z=W.cx-W.rx;Y=W.cy-W.ry;aa=W.rx*2;V=W.ry*2;break;case"rect":case"image":Z=W.x;Y=W.y;aa=W.width||0;V=W.height||0;break;case"text":this.textpath.v=["m",Math.round(W.x),", ",Math.round(W.y-2),"l",Math.round(W.x)+1,", ",Math.round(W.y-2)].join("");Z=W.x-Math.round(this.W/2);Y=W.y-this.H/2;aa=this.W;V=this.H;break;case"path":if(!this.attrs.path){Z=0;Y=0;aa=this.vml.width;V=this.vml.height}else{var U=w(this.attrs.path),Z=U.x;Y=U.y;aa=U.width;V=U.height}break;default:Z=0;Y=0;aa=this.vml.width;V=this.vml.height;break}R=(R==null)?Z+aa/2:R;P=(P==null)?Y+V/2:P;var O=R-this.vml.width/2,X=P-this.vml.height/2;if(this.type=="path"||this.type=="text"){e.left=O+"px";e.top=X+"px";this.X=this.type=="text"?Z:-O;this.Y=this.type=="text"?Y:-X;this.W=aa;this.H=V;S.left=-O+"px";S.top=-X+"px"}else{e.left=O+"px";e.top=X+"px";this.X=Z;this.Y=Y;this.W=aa;this.H=V;e.width=this.vml.width+"px";e.height=this.vml.height+"px";S.left=Z-O+"px";S.top=Y-X+"px";S.width=aa+"px";S.height=V+"px"}};l.prototype.hide=function(){this.Group.style.display="none";return this};l.prototype.show=function(){this.Group.style.display="block";return this};l.prototype.getBBox=function(){return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};l.prototype.remove=function(){this[0].parentNode.removeChild(this[0]);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape)};l.prototype.attr=function(){if(arguments.length==1&&typeof arguments[0]=="string"){if(arguments[0]=="translation"){return this.translate()}return this.attrs[arguments[0]]}if(this.attrs&&arguments.length==1&&arguments[0] instanceof Array){var e={};for(var O=0,P=arguments[0].length;O<P;O++){e[arguments[0][O]]=this.attrs[arguments[0][O]]}return e}var Q;if(arguments.length==2){Q={};Q[arguments[0]]=arguments[1]}if(arguments.length==1&&typeof arguments[0]=="object"){Q=arguments[0]}if(Q){if(Q.gradient){v(this,Q.gradient)}if(Q.text&&this.type=="text"){this.node.string=Q.text}if(Q.id){this.node.id=Q.id}A(this,Q);this.setBox(Q)}return this};l.prototype.toFront=function(){this.Group.parentNode.appendChild(this.Group);return this};l.prototype.toBack=function(){if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild)}return this};l.prototype.insertAfter=function(e){if(e.Group.nextSibling){e.Group.parentNode.insertBefore(this.Group,e.Group.nextSibling)}else{e.Group.parentNode.appendChild(this.Group)}return this};l.prototype.insertBefore=function(e){e.Group.parentNode.insertBefore(this.Group,e.Group);return this};var x=function(i,e,S,Q){var P=L("group");var R=L("oval");P.appendChild(R);i.canvas.appendChild(P);var O=new l(R,P,i);O.type="circle";A(O,{stroke:"#000",fill:"none"});O.attrs.cx=e;O.attrs.cy=S;O.attrs.r=Q;O.setBox({x:e-Q,y:S-Q,width:Q*2,height:Q*2});return O};var D=function(i,T,S,U,P,e){var Q=L("group");var O=L(e?"roundrect":"rect");if(e){O.arcsize=e/(Math.min(U,P))}Q.appendChild(O);i.canvas.appendChild(Q);var R=new l(O,Q,i);R.type="rect";A(R,{stroke:"#000"});R.attrs.x=T;R.attrs.y=S;R.attrs.w=U;R.attrs.h=P;R.attrs.r=e;R.setBox({x:T,y:S,width:U,height:P});return R};var g=function(i,e,T,R,Q){var P=L("group");var S=L("oval");P.appendChild(S);i.canvas.appendChild(P);var O=new l(S,P,i);O.type="ellipse";A(O,{stroke:"#000"});O.attrs.cx=e;O.attrs.cy=T;O.attrs.rx=R;O.attrs.ry=Q;O.setBox({x:e-R,y:T-Q,width:R*2,height:Q*2});return O};var o=function(i,e,T,S,U,P){var Q=L("group");var O=L("image");O.src=e;Q.appendChild(O);i.canvas.appendChild(Q);var R=new l(O,Q,i);R.type="image";R.attrs.x=T;R.attrs.y=S;R.attrs.w=U;R.attrs.h=P;R.setBox({x:T,y:S,width:U,height:P});return R};var C=function(i,V,U,W){var R=L("group"),Q=R.style;var P=L("shape"),T=P.style;var X=L("path"),e=X.style;X.v=["m",Math.round(V),", ",Math.round(U-2),"l",Math.round(V)+1,", ",Math.round(U-2)].join("");X.textpathok=true;T.width=i.width;T.height=i.height;Q.position="absolute";Q.left=0;Q.top=0;Q.width=i.width;Q.height=i.height;var O=L("textpath");O.string=W;O.on=true;O.coordsize=i.coordsize;O.coordorigin=i.coordorigin;P.appendChild(O);P.appendChild(X);R.appendChild(P);i.canvas.appendChild(R);var S=new l(O,R,i);S.shape=P;S.textpath=X;S.type="text";S.attrs.x=V;S.attrs.y=U;S.attrs.w=1;S.attrs.h=1;A(S,{font:p.font,stroke:"none",fill:"#000"});S.setBox();return S};var y=function(i,e){this.width=i||this.width;this.height=e||this.height;this.canvas.style.width=this.width+"px";this.canvas.style.height=this.height+"px";this.canvas.parentNode.style.clip="rect(0 "+this.width+" "+this.height+" 0)";this.canvas.coordsize=this.width+" "+this.height;return this};f.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{if(!f.namespaces.rvml){f.namespaces.add("rvml","urn:schemas-microsoft-com:vml")}var L=function(e){return f.createElement("<rvml:"+e+' class="rvml">')}}catch(K){var L=function(e){return f.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}var k=function(){var Q=B.apply(null,arguments);var O=Q.container,X=Q.x,W=Q.y,P=Q.width,Z=Q.height;if(!O){throw new Error("VML container not found.")}var U=f.createElement("div"),T=f.createElement("div"),e=b.canvas=L("group"),S=U.style,R=e.style;b.width=P;b.height=Z;P=P||"320px";Z=Z||"200px";S.clip="rect(0 "+P+"px "+Z+"px 0)";S.top="-2px";S.left="-2px";S.position="absolute";R.position="absolute";T.style.position="relative";R.width=P;R.height=Z;e.coordsize=(/%$/.test(P)?P:parseFloat(P,10))+" "+(/%$/.test(Z)?Z:parseFloat(Z,10));e.coordorigin="0 0";var V=L("rect"),Y=V.style;Y.left=Y.top=0;Y.width=R.width;Y.height=R.height;V.filled=V.stroked="f";e.appendChild(V);U.appendChild(e);T.appendChild(U);if(O==1){f.body.appendChild(T);S.position="absolute";S.left=X+"px";S.top=W+"px";S.width=P;S.height=Z;O={style:{width:P,height:Z}}}else{S.width=O.style.width=P;S.height=O.style.height=Z;if(O.firstChild){O.insertBefore(T,O.firstChild)}else{O.appendChild(T)}}for(var i in b){O[i]=b[i]}a(O,O,d.fn);O.clear=function(){var aa=[];for(var ab=0,ac=e.childNodes.length;ab<ac;ab++){if(e.childNodes[ab]!=V){aa.push(e.childNodes[ab])}}for(ab=0,ac=aa.length;ab<ac;ab++){e.removeChild(aa[ab])}};return O};b.remove=function(){this.canvas.parentNode.parentNode.parentNode.removeChild(this.canvas.parentNode.parentNode)};b.safari=function(){}}var h=(function(){if(f.addEventListener){return function(Q,O,i,e){var P=function(R){return i.call(e,R)};Q.addEventListener(O,P,false);return function(){Q.removeEventListener(O,P,false);return true}}}else{if(f.attachEvent){return function(R,P,O,i){var Q=function(S){return O.call(i,S||G.event)};R.attachEvent("on"+P,Q);var e=function(){R.detachEvent("on"+P,Q);return true};if(P=="mouseover"){R.attachEvent("onmouseenter",Q);return function(){R.detachEvent("onmouseenter",Q);return e()}}else{if(P=="mouseout"){R.attachEvent("onmouseleave",Q);return function(){R.detachEvent("onmouseleave",Q);return e()}}}return e}}}})();for(var H=s.length;H--;){(function(e){l.prototype[e]=function(i){if(typeof i=="function"){this.events=this.events||{};this.events[e]=this.events[e]||{};this.events[e][i]=this.events[e][i]||[];this.events[e][i].push(h(this.shape||this.node,e,i,this))}return this};l.prototype["un"+e]=function(i){this.events&&this.events[e]&&this.events[e][i]&&this.events[e][i].length&&this.events[e][i].shift()()&&!this.events[e][i].length&&delete this.events[e][i]}})(s[H])}b.circle=function(e,O,i){return x(this,e,O,i)};b.rect=function(e,Q,i,O,P){return D(this,e,Q,i,O,P)};b.ellipse=function(e,P,O,i){return g(this,e,P,O,i)};b.path=function(i,e){return M(i,e,this)};b.image=function(P,e,Q,i,O){return o(this,P,e,Q,i,O)};b.text=function(e,O,i){return C(this,e,O,i)};b.group=function(){return this};b.drawGrid=function(V,U,W,S,R,T,P){P=P||"#000";var X=["M",V,U,"L",V+W,U,V+W,U+S,V,U+S,V,U],e=S/T,O=W/R;for(var Q=1;Q<T;Q++){X=X.concat(["M",V,U+Q*e,"L",V+W,U+Q*e])}for(var Q=1;Q<R;Q++){X=X.concat(["M",V+Q*O,U,"L",V+Q*O,U+S])}return this.path({stroke:P,"stroke-width":1},X.join(","))};b.pathfinder=function(S,R){var O={M:function(i,T){this.moveTo(i,T)},C:function(V,X,T,W,i,U){this.curveTo(V,X,T,W,i,U)},Q:function(T,V,i,U){this.qcurveTo(T,V,i,U)},T:function(i,T){this.qcurveTo(i,T)},S:function(T,V,i,U){S.curveTo(T,V,i,U)},L:function(i,T){S.lineTo(i,T)},H:function(i){this.lineTo(i,this.last.y)},V:function(i){this.lineTo(this.last.x,i)},A:function(W,V,T,U,X,i,Y){this.arcTo(W,V,U,X,i,Y)},Z:function(){this.andClose()}};R=t(R);for(var P=0,Q=R.length;P<Q;P++){var e=R[P].shift();O[e].apply(S,R[P])}};b.set=function(e){return new j(e)};b.setSize=y;l.prototype.stop=function(){clearTimeout(this.animation_in_progress)};l.prototype.scale=function(V,U){if(V==null&&U==null){return{x:this._.sx,y:this._.sy}}U=U||V;isNaN(U)&&(U=V);var ad,aa,O,e;if(V!=0){var Y=Math.round(V/Math.abs(V)),W=Math.round(U/Math.abs(U)),ac=this.node.style;ad=this.attr("x");aa=this.attr("y");O=this.attr("cx");e=this.attr("cy");if(Y!=1||W!=1){if(this.transformations){this.transformations[2]="scale("+[Y,W]+")";this.node.setAttribute("transform",this.transformations.join(" "));ad=(Y<0)?-this.attr("x")-this.attrs.width*V*Y/this._.sx:this.attr("x");aa=(W<0)?-this.attr("y")-this.attrs.height*U*W/this._.sy:this.attr("y");O=this.attr("cx")*Y;e=this.attr("cy")*W}else{this.node.filterMatrix=" progid:DXImageTransform.Microsoft.Matrix(M11="+Y+", M12=0, M21=0, M22="+W+", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')";ac.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}}else{if(this.transformations){this.transformations[2]="";this.node.setAttribute("transform",this.transformations.join(" "))}else{this.node.filterMatrix="";ac.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}}switch(this.type){case"rect":case"image":this.attr({width:this.attrs.width*V*Y/this._.sx,height:this.attrs.height*U*W/this._.sy,x:ad,y:aa});break;case"circle":case"ellipse":this.attr({rx:this.attrs.rx*V*Y/this._.sx,ry:this.attrs.ry*U*W/this._.sy,r:this.attrs.r*V*W/this._.sx,cx:O,cy:e});break;case"path":var ab=c(d.parsePathString(this.attr("path"))),X=true,R=w(this.attrs.path);for(var Q=0,Z=ab.length;Q<Z;Q++){if(ab[Q][0].toUpperCase()=="M"&&X){continue}else{X=false}if(this.svg&&ab[Q][0].toUpperCase()=="A"){ab[Q][ab[Q].length-2]*=V*Y;ab[Q][ab[Q].length-1]*=U*W;ab[Q][1]*=V;ab[Q][2]*=U}else{for(var P=1,S=ab[Q].length;P<S;P++){ab[Q][P]*=(P%2)?V*Y/this._.sx:U*W/this._.sy}}}var T=w(ab),ad=R.x+R.width/2-T.x-T.width/2,aa=R.y+R.height/2-T.y-T.height/2;ab=c(ab);ab[0][1]+=ad;ab[0][2]+=aa;this.attr({path:ab.join(" ")})}}this._.sx=V;this._.sy=U;return this};l.prototype.animate=function(af,Y,Q){clearTimeout(this.animation_in_progress);var ab={},O={},W={},V={x:0,y:0};for(var Z in af){if(Z in r){ab[Z]=this.attr(Z);if(typeof ab[Z]=="undefined"){ab[Z]=p[Z]}O[Z]=af[Z];switch(r[Z]){case"number":W[Z]=(O[Z]-ab[Z])/Y;break;case"colour":ab[Z]=F(ab[Z]);var aa=F(O[Z]);W[Z]={r:(aa.r-ab[Z].r)/Y,g:(aa.g-ab[Z].g)/Y,b:(aa.b-ab[Z].b)/Y};break;case"path":var R=z(ab[Z],O[Z]);ab[Z]=R[0];O[Z]=R[1];W[Z]=[];for(var ad=0,U=ab[Z].length;ad<U;ad++){W[Z][ad]=[0];for(var ac=1,ae=ab[Z][ad].length;ac<ae;ac++){W[Z][ad][ac]=(O[Z][ad][ac]-ab[Z][ad][ac])/Y}}break;case"csv":var e=af[Z].toString().split(N),T=ab[Z].toString().split(N);if(Z=="translation"){ab[Z]=[0,0];W[Z]=[e[0]/Y,e[1]/Y]}else{if(Z=="rotation"){ab[Z]=(T[1]==e[1]&&T[2]==e[2])?T:[0,e[1],e[2]];W[Z]=[(e[0]-ab[Z][0])/Y,0,0]}else{ab[Z]=(ab[Z]+"").split(N);W[Z]=[(e[0]-ab[Z][0])/Y,(e[1]-ab[Z][0])/Y]}}O[Z]=e}}}var P=new Date(),X=0,S=this;(function(){var ah=(new Date()).getTime()-P.getTime(),ao={},ag;if(ah<Y){for(var al in ab){switch(r[al]){case"number":ag=+ab[al]+ah*W[al];break;case"colour":ag="rgb("+[Math.round(ab[al].r+ah*W[al].r),Math.round(ab[al].g+ah*W[al].g),Math.round(ab[al].b+ah*W[al].b)].join(",")+")";break;case"path":ag=[];for(var aj=0,ap=ab[al].length;aj<ap;aj++){ag[aj]=[ab[al][aj][0]];for(var ai=1,ak=ab[al][aj].length;ai<ak;ai++){ag[aj][ai]=ab[al][aj][ai]+ah*W[al][aj][ai]}ag[aj]=ag[aj].join(" ")}ag=ag.join(" ");break;case"csv":if(al=="translation"){var an=W[al][0]*(ah-X),am=W[al][1]*(ah-X);V.x+=an;V.y+=am;ag=[an,am].join(" ")}else{if(al=="rotation"){ag=+ab[al][0]+ah*W[al][0];ab[al][1]&&(ag+=","+ab[al][1]+","+ab[al][2])}else{ag=[+ab[al][0]+ah*W[al][0],+ab[al][1]+ah*W[al][1]].join(" ")}}break}if(al=="font-size"){ao[al]=ag+"px"}else{ao[al]=ag}}S.attr(ao);S.animation_in_progress=setTimeout(arguments.callee,0);b.safari()}else{(V.x||V.y)&&S.translate(-V.x,-V.y);S.attr(af);clearTimeout(S.animation_in_progress);b.safari();(typeof Q=="function")&&Q.call(S)}X=ah})();return this};l.prototype.translate=function(e,O){if(e==null){return{x:this._.tx,y:this._.ty}}this._.tx+=+e;this._.ty+=+O;switch(this.type){case"circle":case"ellipse":this.attr({cx:this.attrs.cx+e,cy:this.attrs.cy+O});break;case"rect":case"image":case"text":this.attr({x:this.attrs.x+ +e,y:this.attrs.y+ +O});break;case"path":var i=c(this.attrs.path);i[0][1]+=+e;i[0][2]+=+O;this.attr({path:i.join(" ")});break}return this};var j=function(O){this.items=[];this.length=(O&&O.length)||0;if(O&&O.constructor==Array){for(var e=O.length;e--;){if(O[e].constructor==l){this.items[this.items.length]=O[e]}}}};j.prototype.push=function(i){if(i&&i.constructor==l){var e=this.items.length;this.items[e]=i;this[e]=i;this.length++}return this};j.prototype.pull=function(P){var i=this.items.splice(P,1)[0];for(var e=P,O=this.items.length;e<O;e++){this[e]=this[e+1]}delete this[O+1];this.length--;return i};for(var I in l.prototype){j.prototype[I]=(function(e){return function(){for(var O=this.items.length;O--;){this.items[O][e].apply(this.items[O],arguments)}return this}})(I)}j.prototype.getBBox=function(){var e=[],S=[],O=[],Q=[];for(var P=this.items.length;P--;){var R=this.items[P].getBBox();e.push(R.x);S.push(R.y);O.push(R.x+R.width);Q.push(R.y+R.height)}e=Math.min.apply(Math,e);S=Math.min.apply(Math,S);return{x:e,y:S,width:Math.max.apply(Math,O)-e,height:Math.max.apply(Math,Q)-S}};d.noConflict=function(){var e=window.Raphael;delete window.Raphael;return e};return d})();